(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DamageCalculator"],{"027b":function(e,t,a){"use strict";var r=a("1b75"),c=a.n(r);c.a},"1b75":function(e,t,a){},"1d3a":function(e,t,a){"use strict";var r=a("6842"),c=a.n(r);c.a},2532:function(e,t,a){"use strict";var r=a("23e7"),c=a("5a34"),n=a("1d80"),s=a("ab13");r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(n(this)).indexOf(c(e),arguments.length>1?arguments[1]:void 0)}})},"34d4":function(e,t,a){},"44e7":function(e,t,a){var r=a("861d"),c=a("c6b6"),n=a("b622"),s=n("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==c(e))}},4561:function(e,t,a){},"5a34":function(e,t,a){var r=a("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},6842:function(e,t,a){},"9a3c":function(e,t,a){"use strict";var r=a("34d4"),c=a.n(r);c.a},a1bb:function(e,t,a){},a84c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"damage-calculator-page"},[a("section",{staticClass:"tabs"},[e._l(e.calculators,(function(t,r){return a("div",{key:r,staticClass:"tab",class:{active:r===e.activeCalculatorIndex},attrs:{title:e.calculatorTitle(t)}},[a("div",{staticClass:"tab-title",on:{click:function(t){return e.setActiveCalculator(r)}}},[e._v(" "+e._s(e.calculatorTitle(t))+" ")]),a("div",{staticClass:"close-tab"},[a("button",{on:{click:function(t){return e.deleteCalculator(r)}}},[e._v("×")])])])})),a("button",{staticClass:"add-tab",class:{disabled:e.calculators.length>=5},on:{click:e.addCalculator}},[e._v(" + ")])],2),e._l(e.calculators,(function(t,r){return a("DamageCalculator",{directives:[{name:"show",rawName:"v-show",value:r===e.activeCalculatorIndex,expression:"index === activeCalculatorIndex"}],key:r})})),a("PageFooter")],2)},c=[],n=(a("e6cf"),a("ade3")),s=a("2f62"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"damage-calculator"},[a("section",{staticClass:"damage-calculator-body"},[a("section",{staticClass:"attacker"},[a("section",{staticClass:"header"},[a("h2",[e._v(e._s(e.$t("Attacker")))]),a("button",{staticClass:"pick-creature-button attacker",on:{click:function(t){e.showAttackerModal=!0}}},[e._v(" "+e._s(e.$t("Pick creature"))+" ")])]),a("section",{staticClass:"unit-and-hero"},[a("div",{staticClass:"unit"},[a("button",{on:{click:function(t){e.showAttackerModal=!0}}},[e.attacker.creature.name.hasOwnProperty("en")?a("Portrait",{attrs:{folder:"/images/creatures_portraits",name:e.attacker.creature.name.en}}):a("Portrait",{attrs:{folder:"/images/creatures_portraits",name:"Archangel"}})],1),a("InputNumber",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0,expression:"Object.entries(attacker.creature).length > 0"}],attrs:{min:0,max:9999,value:e.attacker.creature.count},on:{input:function(t){return e.setCreaturesCount({side:"attacker",count:t})}}})],1),a("div",{staticClass:"hero"},[Object.entries(e.attacker.creature).length>0?a("SelectHero",{attrs:{heroes:e.data.heroes},on:{select:function(t){return e.setAttackerHero(t)}}}):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0,expression:"Object.entries(attacker.creature).length > 0"}],staticClass:"hero-params"},[a("InputHeroStat",{staticClass:"level",attrs:{stat:"Level",value:e.attacker.hero.stats.level},on:{input:function(t){return e.setHeroStat({side:"attacker",stat:"level",value:t})}}}),a("InputHeroStat",{staticClass:"attack",attrs:{stat:"Attack",value:e.attacker.hero.stats.attack},on:{input:function(t){return e.setHeroStat({side:"attacker",stat:"attack",value:t})}}}),a("InputHeroStat",{staticClass:"defense",attrs:{stat:"Defense",value:e.attacker.hero.stats.defense},on:{input:function(t){return e.setHeroStat({side:"attacker",stat:"defense",value:t})}}})],1)],1)]),a("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0,expression:"Object.entries(attacker.creature).length > 0"}],staticClass:"hero-skills"},e._l(e.$t("heroSkills.skills"),(function(t){return a("SelectSkill",{key:t,attrs:{skill:t},on:{click:function(a){return e.setHeroSkill({side:"attacker",skill:t,value:a})}}})})),1),a("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0,expression:"Object.entries(attacker.creature).length > 0"}],staticClass:"unit-effects"},[a("div",{staticClass:"attack-buffs"},e._l(e.$t("unitEffects.attackPositiveEffects"),(function(t){return a("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(a){a?e.addUnitEffect({side:"attacker",effect:t}):e.removeUnitEffect({side:"attacker",effect:t})}}})})),1),a("div",{staticClass:"defend-buffs"},e._l(e.$t("unitEffects.defensePositiveEffects"),(function(t){return a("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(a){a?e.addUnitEffect({side:"attacker",effect:t}):e.removeUnitEffect({side:"attacker",effect:t})}}})})),1),a("div",{staticClass:"attack-debuffs"},e._l(e.$t("unitEffects.attackNegativeEffects"),(function(t){return a("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(a){a?e.addUnitEffect({side:"attacker",effect:t}):e.removeUnitEffect({side:"attacker",effect:t})}}})})),1)]),a("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0&&e.attacker.creature.count>0,expression:"Object.entries(attacker.creature).length > 0 && attacker.creature.count > 0"}],staticClass:"total-damage"},[a("span",[e._v(" Damage: "+e._s(e.attacker.minDamage+" — "+e.attacker.maxDamage+" (~ "+e.attacker.averageDamage+")")+" ")]),a("span",[e._v(" Kills: "+e._s(e.attacker.minKills+" — "+e.attacker.maxKills+" (~ "+e.attacker.averageKills+")")+" ")])])]),a("section",{staticClass:"defender"},[a("section",{staticClass:"header"},[a("button",{staticClass:"pick-creature-button defender",on:{click:function(t){e.showDefenderModal=!0}}},[e._v(" "+e._s(e.$t("Pick creature"))+" ")]),a("h2",[e._v(e._s(e.$t("Defender")))])]),a("section",{staticClass:"unit-and-hero"},[a("div",{staticClass:"hero"},[Object.entries(e.defender.creature).length>0?a("SelectHero",{attrs:{heroes:e.data.heroes}}):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.defender.creature).length>0,expression:"Object.entries(defender.creature).length > 0"}],staticClass:"hero-params"},[a("InputHeroStat",{staticClass:"level",attrs:{stat:"Level",value:e.defender.hero.stats.level},on:{input:function(t){return e.setHeroStat({side:e.side,stat:e.stat,value:t})}}}),a("InputHeroStat",{staticClass:"attack",attrs:{stat:"Attack",value:e.defender.hero.stats.level},on:{input:function(t){return e.setHeroStat({side:e.side,stat:e.stat,value:t})}}}),a("InputHeroStat",{staticClass:"defense",attrs:{stat:"Defense",value:e.defender.hero.stats.level},on:{input:function(t){return e.setHeroStat({side:e.side,stat:e.stat,value:t})}}})],1)],1),a("div",{staticClass:"unit"},[a("button",{on:{click:function(t){e.showAttackerModal=!0}}},[e.defender.creature.name.hasOwnProperty("en")?a("Portrait",{attrs:{folder:"/images/creatures_portraits",name:e.defender.creature.name.en}}):a("Portrait",{attrs:{folder:"/images/creatures_portraits",name:"Archangel"}})],1),Object.entries(e.defender.creature).length>0?a("InputNumber",{attrs:{min:0,max:9999,value:e.defender.creature.count},on:{input:function(t){return e.setCreaturesCount({side:"defender",count:t})}}}):e._e()],1)]),a("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.defender.creature).length>0,expression:"Object.entries(defender.creature).length > 0"}],staticClass:"hero-skills"},e._l(e.$t("heroSkills.skills"),(function(t){return a("SelectSkill",{key:t,attrs:{skill:t},on:{click:function(a){return e.setHeroSkill({side:"defender",skill:t,value:a})}}})})),1),a("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.defender.creature).length>0,expression:"Object.entries(defender.creature).length > 0"}],staticClass:"unit-effects"},[a("div",{staticClass:"attack-buffs"},e._l(e.$t("unitEffects.attackPositiveEffects"),(function(t){return a("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(a){a?e.addUnitEffect({side:"defender",effect:t}):e.removeUnitEffect({side:"defender",effect:t})}}})})),1),a("div",{staticClass:"defend-buffs"},e._l(e.$t("unitEffects.defensePositiveEffects"),(function(t){return a("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(a){a?e.addUnitEffect({side:"defender",effect:t}):e.removeUnitEffect({side:"defender",effect:t})}}})})),1),a("div",{staticClass:"attack-debuffs"},e._l(e.$t("unitEffects.attackNegativeEffects"),(function(t){return a("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(a){a?e.addUnitEffect({side:"defender",effect:t}):e.removeUnitEffect({side:"defender",effect:t})}}})})),1)]),a("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.defender.creature).length>0&&e.defender.creature.count>0,expression:"Object.entries(defender.creature).length > 0 && defender.creature.count > 0"}],staticClass:"total-damage"},[a("span",[e._v(" Damage: "+e._s(e.defender.minDamage+" — "+e.defender.maxDamage+" (~ "+e.defender.averageDamage+")")+" ")]),a("span",[e._v(" Kills: "+e._s(e.defender.minKills+" — "+e.defender.maxKills+" (~ "+e.defender.averageKills+")")+" ")])])])]),a("section",{staticClass:"damage-calculator-footer"},[a("SwapSidesButton"),a("SelectTerrain",{staticClass:"select-terrain",attrs:{terrains:e.data.terrains}})],1),e.showAttackerModal?a("SelectUnitModal",{attrs:{showModal:e.showAttackerModal,creatures:e.data.creatures},on:{close:function(t){e.showAttackerModal=!1},select:function(t){return e.setActiveCreature({side:"attacker",creature:t})}}}):e._e(),e.showDefenderModal?a("SelectUnitModal",{attrs:{showModal:e.showDefenderModal,creatures:e.data.creatures},on:{close:function(t){e.showDefenderModal=!1},select:function(t){return e.setActiveCreature({side:"defender",creature:t})}}}):e._e()],1)},i=[],o=(a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showModal?a("div",{staticClass:"select-unit-modal"},[a("div",{staticClass:"modal-header"}),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"header"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search.text,expression:"search.text"}],attrs:{type:"text",placeholder:"Search creature"},domProps:{value:e.search.text},on:{input:[function(t){t.target.composing||e.$set(e.search,"text",t.target.value)},function(t){return e.searchUnit()}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectFirstFounded()}}}),a("button",{staticClass:"close-modal-button",on:{click:e.closeModal}},[e._v("×")])]),a("div",{staticClass:"units"},e._l(e.towns,(function(t,r){return a("section",{key:t,class:t+"-town"},e._l(14,(function(t){return a("button",{key:t},[a("Portrait",{attrs:{folder:"/images/creatures_portraits",name:e.creatures[14*r+t-1].name.en,width:"58px",height:"64px"},on:{click:e.selectUnit}})],1)})),0)})),0)])]):e._e()}),u=[],f={components:{Portrait:()=>a.e("chunk-2d224b1f").then(a.bind(null,"e0db"))},props:{showModal:{value:Boolean,default:!1,required:!1},creatures:{value:Array,default:[],required:!1}},data(){return{search:{text:""},selected:{id:0,name:""},towns:["castle","rampart","tower","inferno","necropolis","dungeon","stronghold","fortress","conflux","cove"]}},methods:{searchUnit(){},selectFirstFounded(){},selectUnit(e){this.selected=this.creatures.filter(t=>t.name.en===e)[0],this.$emit("select",this.selected),this.$emit("close")},closeModal(){this.$emit("close")}}},d=f,h=(a("ac65"),a("2877")),p=Object(h["a"])(d,o,u,!1,null,null,null),m=p.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select-skill"},[a("span",[e._v(e._s(e.skill))]),a("div",{staticClass:"levels"},e._l(e.$t("heroSkills.levels"),(function(t,r){return a("button",{key:t,class:{active:e.selectedLevel===r+1},on:{click:function(t){return e.onClick(r+1)}}},[e._v(" "+e._s(t)+" ")])})),0),e._m(0)])},k=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"levels-select"},[a("select",[a("option",{attrs:{value:"value1"}},[e._v("Значение 1")])])])}],g={props:{skill:{value:String,default:"",required:!0}},data(){return{selectedLevel:0}},methods:{onClick(e){e===this.selectedLevel?this.selectedLevel=0:this.selectedLevel=e,this.$emit("click",this.selectedLevel)}}},b=g,y=(a("9a3c"),Object(h["a"])(b,v,k,!1,null,null,null)),w=y.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-unit-effect"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"styled-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selected)?e._i(e.selected,null)>-1:e.selected},on:{click:e.onSelect,change:function(t){var a=e.selected,r=t.target,c=!!r.checked;if(Array.isArray(a)){var n=null,s=e._i(a,n);r.checked?s<0&&(e.selected=a.concat([n])):s>-1&&(e.selected=a.slice(0,s).concat(a.slice(s+1)))}else e.selected=c}}}),a("label",[e._v(e._s(e.name))])])},O=[],x={props:{name:{value:String,required:!0,default:""}},data(){return{selected:!1}},methods:{onSelect(){this.selected=!this.selected,this.$emit("select",this.selected)}}},S=x,_=(a("1d3a"),Object(h["a"])(S,C,O,!1,null,"24692775",null)),j=_.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-stat"},[a("span",{staticClass:"stat-name"},[e._v(" "+e._s(e.$t("heroStats."+e.stat))+" ")]),a("InputNumber",{attrs:{min:0,max:99,value:e.value},on:{input:e.onInput}})],1)},A=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("input",{attrs:{type:"number",min:e.min,max:e.max},domProps:{value:e.value},on:{input:e.onInput,paste:e.onInput}})},E=[],M={props:{min:{value:Number,default:0,required:!1},max:{value:Number,default:99,required:!1},value:{value:Number,default:0,required:!0}},data(){return{previousValue:0}},methods:{onInput(e){e.target.value<this.min||e.target.value>this.max?e.target.value=this.previousValue:(e.target.value=parseInt(e.target.value),this.previousValue=e.target.value),this.$emit("input",parseInt(e.target.value))}}},I=M,$=Object(h["a"])(I,P,E,!1,null,null,null),B=$.exports,H={components:{InputNumber:B},props:{stat:{value:String,default:"",required:!0},value:{value:Number,default:0,required:!0}},methods:{onInput(e){this.$emit("input",e)}}},U=H,N=(a("027b"),Object(h["a"])(U,D,A,!1,null,null,null)),z=N.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"swap-sides"},[a("FontAwesomeIcon",{staticClass:"fa-2x",attrs:{icon:"sync",title:"Swap sides"},on:{click:e.onClick}})],1)},T=[],F=a("ad3d"),q={name:"SwapSidesButton",components:{FontAwesomeIcon:F["a"]},methods:{onClick(){this.$emit("click")}}},L=q,W=Object(h["a"])(L,K,T,!1,null,null,null),R=W.exports;function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z={components:{SelectUnitModal:m,SelectSkill:w,InputUnitEffect:j,InputHeroStat:z,SelectHero:()=>Promise.all([a.e("chunk-43aae3e0"),a.e("chunk-477f4758")]).then(a.bind(null,"0eab")),Portrait:()=>a.e("chunk-2d224b1f").then(a.bind(null,"e0db")),SelectTerrain:()=>Promise.all([a.e("chunk-43aae3e0"),a.e("chunk-5b569c45")]).then(a.bind(null,"0e1f")),InputNumber:B,SwapSidesButton:R},data(){return{showAttackerModal:!1,showDefenderModal:!1}},watch:{calculationStarted(){this.calculationStarted&&(this.calculate(this.attacker,this.defender),this.calculate(this.defender,this.attacker))}},computed:J({},Object(s["c"])({activeCalculator:"calculator/activeCalculator",attacker:"calculator/attacker",defender:"calculator/defender",options:"calculator/options",calculationStarted:"calculator/calculationStarted",data:"data/data"})),methods:J({},Object(s["b"])({addCreature:"calculator/addCreature",setHeroAttack:"calculator/setHeroAttack",setCreaturesCount:"calculator/setCreaturesCount",setActiveCreature:"calculator/setActiveCreature",setAttackerHero:"calculator/setAttackerHero",setHeroStat:"calculator/setHeroStat",setTotalDamages:"calculator/setTotalDamages",stopCalculation:"calculator/stopCalculation"}),{calculate(e,t){if(this.attacker.creature.count>0&&this.defender.creature.count>0){var a=J({},e,{creature:Object.assign({},this.attacker.creature),hero:J({},this.attacker.hero,{name:Object.assign({},this.attacker.creature.name)})}),r=J({},t,{creature:Object.assign({},this.attacker.creature),hero:Object.assign({},this.attacker.hero)});console.log("hehehehe",a,r),a=this.calculationWaterfall(a,r),r=this.calculationWaterfall(r,a),this.setTotalDamages({side:"attacker",damages:a}),this.setTotalDamages({side:"defender",damages:r})}this.stopCalculation()},calculationWaterfall(e,t){return e},blessModificator(e){return e.creature.effects.includes("Bless")&&("Bless"===e.hero.specialtySpell&&(e.creature.damageBonus+=.03*e.hero.stats.level/e.creature.level),e.hero.skills.water<=1?e.creature.minDamage=e.creature.maxDamage:hero.skills.water>=2&&(e.creature.minDamage=e.creature.maxDamage+1,e.creature.maxDamage++)),e},curseModificator(e){return e.creature.effects.includes("Curse")&&(e.hero.skills.fire<=1?e.creature.maxDamage=e.creature.minDamage:e.hero.skills.fire>=2&&(e.creature.minDamage=.8*e.creature.minDamage-1,e.creature.maxDamage=e.creature.minDamage)),e},statsModificators(e,t,a){if(console.log("test",e.creature,e.creature),e.creature.attack+=parseInt(e.hero.attack),e.creature.defense+=parseInt(e.hero.defense),e.creature.nativeTerrain===a.id&&(e.creature.attack++,e.creature.defense++),e.hero.hasOwnProperty("specialtyUnit")&&e.hero.specialtyUnit.includes(e.creature.id)&&(e.creature.attack*=1+e.hero.stats.level/e.creature.level*.05,e.creature.defense*=1+e.hero.stats.level/e.creature.level*.05,e.creature.attack=Math.ceil(e.creature.attack),e.creature.defense=Math.ceil(e.creature.defense)),e.creature.effects.length>0){if(e.creature.effects.includes("Bloodlust")&&(e.hero.skills.fire<=1?e.creature.attack+=3:e.hero.skills.fire>=2&&(e.creature.attack+=6)),e.creature.effects.includes("Frenzy")&&(e.hero.skills.fire<=1?e.creature.attack+=e.creature.defense:2===e.hero.skills.fire?e.creature.attack+=1.5*e.creature.defense:3===e.hero.skills.fire&&(e.creature.defense=0),e.creature.attack+=2*e.creature.defense),e.creature.effects.includes("Slayer")){var r=[26,27,54,55,68,69,96,97,110,111,137,138,139,140];2===e.hero.skills.fire?r.push(12,13,82,83):3===e.hero.skills.fire&&r.push(40,41,124,125,154,155),r.includes(t.creature.id)&&(e.creature.attack+=8)}if(e.creature.effects.includes("Prayer")&&(e.hero.skills.water<=1?(e.creature.attack+=2,e.creature.defense+=2):e.hero.skills.water>=2&&(e.creature.attack+=2,e.creature.defense+=4)),e.creature.effects.includes("Precision")&&e.creature.ranged&&(e.hero.skills.air<=1?e.creature.attack+=3:e.hero.skills.air>=2&&(e.creature.attack+=6)),e.creature.effects.includes("Stone Skin")&&(e.hero.skills.earth<=1?e.creature.defense+=3:e.hero.skills.earth>=2&&(e.creature.defense+=6)),e.creature.effects.includes("Weakness")&&(t.hero.skills.water<=1?e.creature.attack-=3:t.hero.skills.water>=2&&(e.creature.attack-=6)),e.creature.effects.includes("Disrupting Ray")&&(t.hero.skills.air<=1?e.creature.defense-=3:2===t.hero.skills.air?e.creature.defense-=4:3===t.hero.skills.air&&(e.creature.defense-=5)),e.hero.hasOwnProperty("specialtySpell"))switch(e.hero.specialtySpell){case"Bloodlust":e.creature.level<=2?e.creature.attack+=3:e.creature.level<=4?e.creature.attack+=2:e.creature.level<=6&&(e.creature.attack+=1);break;case"Prayer":e.creature.level<=2?(e.creature.attack+=3,e.creature.defense+=3):e.creature.level<=4?(e.creature.attack+=2,e.creature.defense+=2):e.creature.level<=6&&(e.creature.attack+=1,e.creature.defense+=1);break;case"Precision":e.creature.level<=2?e.creature.attack+=3:e.creature.level<=4?e.creature.attack+=2:e.creature.level<=6&&(e.creature.attack+=1);break;case"Stone Skin":e.creature.level<=2?e.creature.defense+=3:e.creature.level<=4?e.creature.defense+=2:e.creature.level<=6&&(e.creature.defense+=1);break;case"Weakness":e.creature.level<=2?e.creature.attack-=3:e.creature.level<=4?e.creature.attack-=2:e.creature.level<=6&&(e.creature.attack-=1);break;case"Disrupting Ray":e.creature.defense-=2;default:break}}return e},totalDamagesModificators(e,t){var a,r,c,n=0;if(console.log(e),e.hero.hasOwnProperty("level")&&(a=1+.05*e.hero.stats.level),e.hero.skills.offense>0&&!e.creature.ranged){var s=.1*e.hero.skills.offense;e.hero.hasOwnProperty("specialtySkill")&&"offense"===e.hero.specialtySkill&&(s*=a,s>1.92&&(s=1.92)),r+=s}if(e.hero.skills.armorer>0){var l=.05*e.hero.skills.armorer;e.hero.hasOwnProperty("specialtySkill")&&"armorer"===e.hero.specialtySkill&&(l*=a,l>.7&&(l=.7)),c+=l}if(e.hero.skills.archery>0&&e.creature.ranged){var i=0;1===e.hero.skills.archery?i=.1:2===e.hero.skills.archery?i=.25:3===e.hero.skills.archery&&(i=.5),e.hero.hasOwnProperty("specialtySkill")&&"archery"===e.hero.specialtySkill&&(i*=a,i>3.2&&(i=3.2)),r+=i}return e.hero.skills.artillery>0&&(158===e.creature.id||159===e.creature.id)&&3===e.hero.skills.artillery&&(e.minDamage*=2,e.maxDamage*=2),e.creature.effects.includes("Shield")&&(e.hero.skills.earth<=1?n+=.15:e.hero.skills.earth>=2&&(n+=.3)),e.creature.effects.includes("Air Shield")&&t.creature.ranged&&(e.hero.skills.air<2?n+=.25:e.hero.skills.air>1&&(n+=.5)),J({},e,{damageBonus:r,defenseBonus:c,defenseMagicBonus:n})},hatesModificator(e,t){var a=0,r=t.filter(t=>t.id===e.creature.id);return r.length>0&&(a=.5,e.creature.hasOwnProperty("damageBonus")&&(creature.damageBonus+=a)),e},ifArtilleryCreature(e){return 158===e.creature.id?(e.creature.minDamage+=2*(e.creature.attack-e.hero.stats.attack),e.creature.maxDamage+=3*(e.creature.attack-e.hero.stats.attack)):159===e.creature.id&&(e.creature.minDamage+=4*(e.creature.attack-e.hero.stats.attack),e.creature.maxDamage+=7*(e.creature.attack-e.hero.stats.attack)),e},unitsFeaturesModificator(e){switch(e.creature.id){case 110:e.creature.defense*=.6;break;case 111:e.creature.defense*=.2;break;case 152:e.creature.attack*=.7;break;case 153:e.creature.attack*=.4;break}return e},mainFormula(e,t){var a,r,c=0;if(console.log("a",e,t),e.creature.attack>t.creature.defense){var n=Math.abs(.05*(e.creature.attack-t.creature.defense));n>3&&(n=3),a=1+n+e.creature.damageBonus,r=1-t.creature.defenseBonus,c=1-t.creature.defenseMagicBonus}else if(e.creature.attack===t.creature.defense)a=1+e.creature.damageBonus,r=1-t.creature.defenseBonus,c=1-t.creature.defenseMagicBonus;else if(e.attack<t.defense){var s=Math.abs(.025*(t.defense-e.attack));s>.7&&(s=.7),a=1-s+e.creature.damageBonus,r=1-t.creature.defenseBonus,c=1-t.creature.defenseMagicBonus}return e.creature.minDamage=Math.abs(e.creature.minDamage*(a*r*c)),e.creature.maxDamage=Math.abs(e.creature.maxDamage*(a*r*c)),e.minDamage=Math.floor(e.minDamage*e.count),e.maxDamage=Math.floor(e.maxDamage*e.count),e.averageDamage=Math.floor((e.minDamage+e.maxDamage)/2),e.minKills=Math.floor(e.minDamage/t.creature.health),e.maxKills=Math.floor(e.maxDamage/t.creature.health),e.averageKills=Math.floor(e.averageDamage/t.creature.health),e}})},G=Z,Q=(a("de58"),Object(h["a"])(G,l,i,!1,null,null,null)),X=Q.exports;function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var te={components:{DamageCalculator:X,PageFooter:()=>a.e("chunk-31bdd0fe").then(a.bind(null,"c8cc"))},mounted(){this.getHeroes(),this.getCreatures(),this.getTerrains()},computed:ee({},Object(s["c"])({calculators:"calculator/calculators",activeCalculatorIndex:"calculator/activeCalculatorIndex",attacker:"calculator/attacker",defender:"calculator/defender",options:"calculator/options"})),methods:ee({},Object(s["b"])({getHeroes:"data/getHeroes",getCreatures:"data/getCreatures",getTerrains:"data/getTerrains",addCreature:"calculator/addCreature",setHeroAttack:"calculator/setHeroAttack",addCalculator:"calculator/addCalculator",setActiveCalculator:"calculator/setActiveCalculator",deleteCalculator:"calculator/deleteCalculator"}),{calculatorTitle(e){return Object.entries(e.attacker.creature).length>0&&Object.entries(e.defender.creature).length>0?"".concat(e.attacker.creature.name_en," - ").concat(e.defender.creature.name_en):Object.entries(e.attacker.creature).length>0?e.attacker.creature.name_en:Object.entries(e.defender.creature).length>0?e.attacker.creature.name_en:this.$t("Damage calculator")}})},ae=te,re=(a("ce85"),Object(h["a"])(ae,r,c,!1,null,null,null));t["default"]=re.exports},aa50:function(e,t,a){},ab13:function(e,t,a){var r=a("b622"),c=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[c]=!1,"/./"[e](t)}catch(r){}}return!1}},ac65:function(e,t,a){"use strict";var r=a("aa50"),c=a.n(r);c.a},ad3d:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return C}));var r=a("ecee"),c="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}var s=n((function(e){(function(t){var a=function(e,t,r){if(!o(t)||f(t)||d(t)||h(t)||i(t))return t;var c,n=0,s=0;if(u(t))for(c=[],s=t.length;n<s;n++)c.push(a(e,t[n],r));else for(var l in c={},t)Object.prototype.hasOwnProperty.call(t,l)&&(c[e(l,r)]=a(e,t[l],r));return c},r=function(e,t){t=t||{};var a=t.separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(a)},c=function(e){return p(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""})),e.substr(0,1).toLowerCase()+e.substr(1))},n=function(e){var t=c(e);return t.substr(0,1).toUpperCase()+t.substr(1)},s=function(e,t){return r(e,t).toLowerCase()},l=Object.prototype.toString,i=function(e){return"function"===typeof e},o=function(e){return e===Object(e)},u=function(e){return"[object Array]"==l.call(e)},f=function(e){return"[object Date]"==l.call(e)},d=function(e){return"[object RegExp]"==l.call(e)},h=function(e){return"[object Boolean]"==l.call(e)},p=function(e){return e-=0,e===e},m=function(e,t){var a=t&&"process"in t?t.process:t;return"function"!==typeof a?e:function(t,r){return a(t,e,r)}},v={camelize:c,decamelize:s,pascalize:n,depascalize:s,camelizeKeys:function(e,t){return a(m(c,t),e)},decamelizeKeys:function(e,t){return a(m(s,t),e,t)},pascalizeKeys:function(e,t){return a(m(n,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=v:t.humps=v})(c)})),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},u=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a},f=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)};function d(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var a=t.indexOf(":"),r=s.camelize(t.slice(0,a)),c=t.slice(a+1).trim();return e[r]=c,e}),{})}function h(e){return e.split(/\s+/).reduce((function(e,t){return e[t]=!0,e}),{})}function p(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce((function(e,t){return Array.isArray(t)?e=e.concat(t):e.push(t),e}),[])}function m(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=(t.children||[]).map(m.bind(null,e)),n=Object.keys(t.attributes||{}).reduce((function(e,a){var r=t.attributes[a];switch(a){case"class":e["class"]=h(r);break;case"style":e["style"]=d(r);break;default:e.attrs[a]=r}return e}),{class:{},style:{},attrs:{}}),s=r.class,l=void 0===s?{}:s,i=r.style,f=void 0===i?{}:i,v=r.attrs,k=void 0===v?{}:v,g=u(r,["class","style","attrs"]);return"string"===typeof t?t:e(t.tag,o({class:p(n.class,l),style:o({},n.style,f),attrs:o({},n.attrs,k)},g,{props:a}),c)}var v=!1;try{v=!0}catch(O){}function k(){var e;!v&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}function g(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?i({},e,t):{}}function b(e){var t,a=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},i(t,"fa-"+e.size,null!==e.size),i(t,"fa-rotate-"+e.rotation,null!==e.rotation),i(t,"fa-pull-"+e.pull,null!==e.pull),i(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(a).map((function(e){return a[e]?e:null})).filter((function(e){return e}))}function y(e,t){var a=0===(e||"").length?[]:[e];return a.concat(t).join(" ")}function w(e){return null===e?null:"object"===("undefined"===typeof e?"undefined":l(e))&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}var C={name:"FontAwesomeIcon",functional:!0,props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:String,default:null,validator:function(e){return["horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null}},render:function(e,t){var a=t.props,c=a.icon,n=a.mask,s=a.symbol,l=a.title,i=w(c),u=g("classes",b(a)),f=g("transform","string"===typeof a.transform?r["d"].transform(a.transform):a.transform),d=g("mask",w(n)),h=Object(r["b"])(i,o({},u,f,d,{symbol:s,title:l}));if(!h)return k("Could not find one or more icon(s)",i,d);var p=h.abstract,v=m.bind(null,e);return v(p[0],{},t.data)}};Boolean}).call(this,a("c8ba"))},ce85:function(e,t,a){"use strict";var r=a("a1bb"),c=a.n(r);c.a},de58:function(e,t,a){"use strict";var r=a("4561"),c=a.n(r);c.a}}]);
//# sourceMappingURL=DamageCalculator.2cd7f743.js.map