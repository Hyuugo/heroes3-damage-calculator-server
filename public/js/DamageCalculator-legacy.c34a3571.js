(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DamageCalculator"],{"027b":function(e,t,r){"use strict";var a=r("1b75"),n=r.n(a);n.a},"1b75":function(e,t,r){},"1d3a":function(e,t,r){"use strict";var a=r("6842"),n=r.n(a);n.a},2532:function(e,t,r){"use strict";var a=r("23e7"),n=r("5a34"),c=r("1d80"),s=r("ab13");a({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(c(this)).indexOf(n(e),arguments.length>1?arguments[1]:void 0)}})},"34d4":function(e,t,r){},"44e7":function(e,t,r){var a=r("861d"),n=r("c6b6"),c=r("b622"),s=c("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},4561:function(e,t,r){},"4fad":function(e,t,r){var a=r("23e7"),n=r("6f53").entries;a({target:"Object",stat:!0},{entries:function(e){return n(e)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var a=r("1d80"),n=r("5899"),c="["+n+"]",s=RegExp("^"+c+c+"*"),i=RegExp(c+c+"*$"),l=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(s,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5a34":function(e,t,r){var a=r("44e7");e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},6842:function(e,t,r){},"6f53":function(e,t,r){var a=r("83ab"),n=r("df75"),c=r("fc6a"),s=r("d1e7").f,i=function(e){return function(t){var r,i=c(t),l=n(i),o=l.length,u=0,f=[];while(o>u)r=l[u++],a&&!s.call(i,r)||f.push(e?[r,i[r]]:i[r]);return f}};e.exports={entries:i(!0),values:i(!1)}},7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var c,s;return n&&"function"==typeof(c=t.constructor)&&c!==r&&a(s=c.prototype)&&s!==r.prototype&&n(e,s),e}},"99af":function(e,t,r){"use strict";var a=r("23e7"),n=r("d039"),c=r("e8b5"),s=r("861d"),i=r("7b0b"),l=r("50c4"),o=r("8418"),u=r("65f0"),f=r("1dde"),d=r("b622"),h=r("60ae"),p=d("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",k=h>=51||!n((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=f("concat"),g=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:c(e)},y=!k||!b;a({target:"Array",proto:!0,forced:y},{concat:function(e){var t,r,a,n,c,s=i(this),f=u(s,0),d=0;for(t=-1,a=arguments.length;t<a;t++)if(c=-1===t?s:arguments[t],g(c)){if(n=l(c.length),d+n>v)throw TypeError(m);for(r=0;r<n;r++,d++)r in c&&o(f,d,c[r])}else{if(d>=v)throw TypeError(m);o(f,d++,c)}return f.length=d,f}})},"9a3c":function(e,t,r){"use strict";var a=r("34d4"),n=r.n(a);n.a},a1bb:function(e,t,r){},a84c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"damage-calculator-page"},[r("section",{staticClass:"tabs"},[e._l(e.calculators,(function(t,a){return r("div",{key:a,staticClass:"tab",class:{active:a===e.activeCalculatorIndex},attrs:{title:e.calculatorTitle(t)}},[r("div",{staticClass:"tab-title",on:{click:function(t){return e.setActiveCalculator(a)}}},[e._v(" "+e._s(e.calculatorTitle(t))+" ")]),r("div",{staticClass:"close-tab"},[r("button",{on:{click:function(t){return e.deleteCalculator(a)}}},[e._v("×")])])])})),r("button",{staticClass:"add-tab",class:{disabled:e.calculators.length>=5},on:{click:e.addCalculator}},[e._v(" + ")])],2),e._l(e.calculators,(function(t,a){return r("DamageCalculator",{directives:[{name:"show",rawName:"v-show",value:a===e.activeCalculatorIndex,expression:"index === activeCalculatorIndex"}],key:a})})),r("PageFooter")],2)},n=[],c=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("4fad"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("2fa7")),s=r("2f62"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"damage-calculator"},[r("section",{staticClass:"damage-calculator-body"},[r("section",{staticClass:"attacker"},[r("section",{staticClass:"header"},[r("h2",[e._v(e._s(e.$t("Attacker")))]),r("button",{staticClass:"pick-creature-button attacker",on:{click:function(t){e.showAttackerModal=!0}}},[e._v(" "+e._s(e.$t("Pick creature"))+" ")])]),r("section",{staticClass:"unit-and-hero"},[r("div",{staticClass:"unit"},[r("button",{on:{click:function(t){e.showAttackerModal=!0}}},[e.attacker.creature.name.hasOwnProperty("en")?r("Portrait",{attrs:{folder:"/images/creatures_portraits",name:e.attacker.creature.name.en}}):r("Portrait",{attrs:{folder:"/images/creatures_portraits",name:"Archangel"}})],1),r("InputNumber",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0,expression:"Object.entries(attacker.creature).length > 0"}],attrs:{min:0,max:9999,value:e.attacker.creature.count},on:{input:function(t){return e.setCreaturesCount({side:"attacker",count:t})}}})],1),r("div",{staticClass:"hero"},[Object.entries(e.attacker.creature).length>0?r("SelectHero",{attrs:{heroes:e.data.heroes},on:{select:function(t){return e.setAttackerHero(t)}}}):e._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0,expression:"Object.entries(attacker.creature).length > 0"}],staticClass:"hero-params"},[r("InputHeroStat",{staticClass:"level",attrs:{stat:"Level",value:e.attacker.hero.stats.level},on:{input:function(t){return e.setHeroStat({side:"attacker",stat:"level",value:t})}}}),r("InputHeroStat",{staticClass:"attack",attrs:{stat:"Attack",value:e.attacker.hero.stats.attack},on:{input:function(t){return e.setHeroStat({side:"attacker",stat:"attack",value:t})}}}),r("InputHeroStat",{staticClass:"defense",attrs:{stat:"Defense",value:e.attacker.hero.stats.defense},on:{input:function(t){return e.setHeroStat({side:"attacker",stat:"defense",value:t})}}})],1)],1)]),r("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0,expression:"Object.entries(attacker.creature).length > 0"}],staticClass:"hero-skills"},e._l(e.$t("heroSkills.skills"),(function(t){return r("SelectSkill",{key:t,attrs:{skill:t},on:{click:function(r){return e.setHeroSkill({side:"attacker",skill:t,value:r})}}})})),1),r("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0,expression:"Object.entries(attacker.creature).length > 0"}],staticClass:"unit-effects"},[r("div",{staticClass:"attack-buffs"},e._l(e.$t("unitEffects.attackPositiveEffects"),(function(t){return r("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(r){r?e.addUnitEffect({side:"attacker",effect:t}):e.removeUnitEffect({side:"attacker",effect:t})}}})})),1),r("div",{staticClass:"defend-buffs"},e._l(e.$t("unitEffects.defensePositiveEffects"),(function(t){return r("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(r){r?e.addUnitEffect({side:"attacker",effect:t}):e.removeUnitEffect({side:"attacker",effect:t})}}})})),1),r("div",{staticClass:"attack-debuffs"},e._l(e.$t("unitEffects.attackNegativeEffects"),(function(t){return r("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(r){r?e.addUnitEffect({side:"attacker",effect:t}):e.removeUnitEffect({side:"attacker",effect:t})}}})})),1)]),r("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.attacker.creature).length>0&&e.attacker.creature.count>0,expression:"Object.entries(attacker.creature).length > 0 && attacker.creature.count > 0"}],staticClass:"total-damage"},[r("span",[e._v(" Damage: "+e._s(e.attacker.minDamage+" — "+e.attacker.maxDamage+" (~ "+e.attacker.averageDamage+")")+" ")]),r("span",[e._v(" Kills: "+e._s(e.attacker.minKills+" — "+e.attacker.maxKills+" (~ "+e.attacker.averageKills+")")+" ")])])]),r("section",{staticClass:"defender"},[r("section",{staticClass:"header"},[r("button",{staticClass:"pick-creature-button defender",on:{click:function(t){e.showDefenderModal=!0}}},[e._v(" "+e._s(e.$t("Pick creature"))+" ")]),r("h2",[e._v(e._s(e.$t("Defender")))])]),r("section",{staticClass:"unit-and-hero"},[r("div",{staticClass:"hero"},[Object.entries(e.defender.creature).length>0?r("SelectHero",{attrs:{heroes:e.data.heroes}}):e._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.defender.creature).length>0,expression:"Object.entries(defender.creature).length > 0"}],staticClass:"hero-params"},[r("InputHeroStat",{staticClass:"level",attrs:{stat:"Level",value:e.defender.hero.stats.level},on:{input:function(t){return e.setHeroStat({side:e.side,stat:e.stat,value:t})}}}),r("InputHeroStat",{staticClass:"attack",attrs:{stat:"Attack",value:e.defender.hero.stats.level},on:{input:function(t){return e.setHeroStat({side:e.side,stat:e.stat,value:t})}}}),r("InputHeroStat",{staticClass:"defense",attrs:{stat:"Defense",value:e.defender.hero.stats.level},on:{input:function(t){return e.setHeroStat({side:e.side,stat:e.stat,value:t})}}})],1)],1),r("div",{staticClass:"unit"},[r("button",{on:{click:function(t){e.showAttackerModal=!0}}},[e.defender.creature.name.hasOwnProperty("en")?r("Portrait",{attrs:{folder:"/images/creatures_portraits",name:e.defender.creature.name.en}}):r("Portrait",{attrs:{folder:"/images/creatures_portraits",name:"Archangel"}})],1),Object.entries(e.defender.creature).length>0?r("InputNumber",{attrs:{min:0,max:9999,value:e.defender.creature.count},on:{input:function(t){return e.setCreaturesCount({side:"defender",count:t})}}}):e._e()],1)]),r("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.defender.creature).length>0,expression:"Object.entries(defender.creature).length > 0"}],staticClass:"hero-skills"},e._l(e.$t("heroSkills.skills"),(function(t){return r("SelectSkill",{key:t,attrs:{skill:t},on:{click:function(r){return e.setHeroSkill({side:"defender",skill:t,value:r})}}})})),1),r("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.defender.creature).length>0,expression:"Object.entries(defender.creature).length > 0"}],staticClass:"unit-effects"},[r("div",{staticClass:"attack-buffs"},e._l(e.$t("unitEffects.attackPositiveEffects"),(function(t){return r("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(r){r?e.addUnitEffect({side:"defender",effect:t}):e.removeUnitEffect({side:"defender",effect:t})}}})})),1),r("div",{staticClass:"defend-buffs"},e._l(e.$t("unitEffects.defensePositiveEffects"),(function(t){return r("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(r){r?e.addUnitEffect({side:"defender",effect:t}):e.removeUnitEffect({side:"defender",effect:t})}}})})),1),r("div",{staticClass:"attack-debuffs"},e._l(e.$t("unitEffects.attackNegativeEffects"),(function(t){return r("InputUnitEffect",{key:t,attrs:{name:t},on:{click:function(r){r?e.addUnitEffect({side:"defender",effect:t}):e.removeUnitEffect({side:"defender",effect:t})}}})})),1)]),r("section",{directives:[{name:"show",rawName:"v-show",value:Object.entries(e.defender.creature).length>0&&e.defender.creature.count>0,expression:"Object.entries(defender.creature).length > 0 && defender.creature.count > 0"}],staticClass:"total-damage"},[r("span",[e._v(" Damage: "+e._s(e.defender.minDamage+" — "+e.defender.maxDamage+" (~ "+e.defender.averageDamage+")")+" ")]),r("span",[e._v(" Kills: "+e._s(e.defender.minKills+" — "+e.defender.maxKills+" (~ "+e.defender.averageKills+")")+" ")])])])]),r("section",{staticClass:"damage-calculator-footer"},[r("SwapSidesButton"),r("SelectTerrain",{staticClass:"select-terrain",attrs:{terrains:e.data.terrains}})],1),e.showAttackerModal?r("SelectUnitModal",{attrs:{showModal:e.showAttackerModal,creatures:e.data.creatures},on:{close:function(t){e.showAttackerModal=!1},select:function(t){return e.setActiveCreature({side:"attacker",creature:t})}}}):e._e(),e.showDefenderModal?r("SelectUnitModal",{attrs:{showModal:e.showDefenderModal,creatures:e.data.creatures},on:{close:function(t){e.showDefenderModal=!1},select:function(t){return e.setActiveCreature({side:"defender",creature:t})}}}):e._e()],1)},l=[],o=(r("caad"),r("b0c0"),r("e25e"),r("2532"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.showModal?r("div",{staticClass:"select-unit-modal"},[r("div",{staticClass:"modal-header"}),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"header"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search.text,expression:"search.text"}],attrs:{type:"text",placeholder:"Search creature"},domProps:{value:e.search.text},on:{input:[function(t){t.target.composing||e.$set(e.search,"text",t.target.value)},function(t){return e.searchUnit()}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectFirstFounded()}}}),r("button",{staticClass:"close-modal-button",on:{click:e.closeModal}},[e._v("×")])]),r("div",{staticClass:"units"},e._l(e.towns,(function(t,a){return r("section",{key:t,class:t+"-town"},e._l(14,(function(t){return r("button",{key:t},[r("Portrait",{attrs:{folder:"/images/creatures_portraits",name:e.creatures[14*a+t-1].name.en,width:"58px",height:"64px"},on:{click:e.selectUnit}})],1)})),0)})),0)])]):e._e()}),u=[],f={components:{Portrait:function(){return r.e("chunk-2d224b1f").then(r.bind(null,"e0db"))}},props:{showModal:{value:Boolean,default:!1,required:!1},creatures:{value:Array,default:[],required:!1}},data:function(){return{search:{text:""},selected:{id:0,name:""},towns:["castle","rampart","tower","inferno","necropolis","dungeon","stronghold","fortress","conflux","cove"]}},methods:{searchUnit:function(){},selectFirstFounded:function(){},selectUnit:function(e){this.selected=this.creatures.filter((function(t){return t.name.en===e}))[0],this.$emit("select",this.selected),this.$emit("close")},closeModal:function(){this.$emit("close")}}},d=f,h=(r("ac65"),r("2877")),p=Object(h["a"])(d,o,u,!1,null,null,null),v=p.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"select-skill"},[r("span",[e._v(e._s(e.skill))]),r("div",{staticClass:"levels"},e._l(e.$t("heroSkills.levels"),(function(t,a){return r("button",{key:t,class:{active:e.selectedLevel===a+1},on:{click:function(t){return e.onClick(a+1)}}},[e._v(" "+e._s(t)+" ")])})),0),e._m(0)])},k=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"levels-select"},[r("select",[r("option",{attrs:{value:"value1"}},[e._v("Значение 1")])])])}],b={props:{skill:{value:String,default:"",required:!0}},data:function(){return{selectedLevel:0}},methods:{onClick:function(e){e===this.selectedLevel?this.selectedLevel=0:this.selectedLevel=e,this.$emit("click",this.selectedLevel)}}},g=b,y=(r("9a3c"),Object(h["a"])(g,m,k,!1,null,null,null)),w=y.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-unit-effect"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"styled-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selected)?e._i(e.selected,null)>-1:e.selected},on:{click:e.onSelect,change:function(t){var r=e.selected,a=t.target,n=!!a.checked;if(Array.isArray(r)){var c=null,s=e._i(r,c);a.checked?s<0&&(e.selected=r.concat([c])):s>-1&&(e.selected=r.slice(0,s).concat(r.slice(s+1)))}else e.selected=n}}}),r("label",[e._v(e._s(e.name))])])},x=[],O={props:{name:{value:String,required:!0,default:""}},data:function(){return{selected:!1}},methods:{onSelect:function(){this.selected=!this.selected,this.$emit("select",this.selected)}}},S=O,_=(r("1d3a"),Object(h["a"])(S,C,x,!1,null,"24692775",null)),j=_.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-stat"},[r("span",{staticClass:"stat-name"},[e._v(" "+e._s(e.$t("heroStats."+e.stat))+" ")]),r("InputNumber",{attrs:{min:0,max:99,value:e.value},on:{input:e.onInput}})],1)},A=[],E=(r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{attrs:{type:"number",min:e.min,max:e.max},domProps:{value:e.value},on:{input:e.onInput,paste:e.onInput}})}),I=[],P={props:{min:{value:Number,default:0,required:!1},max:{value:Number,default:99,required:!1},value:{value:Number,default:0,required:!0}},data:function(){return{previousValue:0}},methods:{onInput:function(e){e.target.value<this.min||e.target.value>this.max?e.target.value=this.previousValue:(e.target.value=parseInt(e.target.value),this.previousValue=e.target.value),this.$emit("input",parseInt(e.target.value))}}},M=P,N=Object(h["a"])(M,E,I,!1,null,null,null),$=N.exports,B={components:{InputNumber:$},props:{stat:{value:String,default:"",required:!0},value:{value:Number,default:0,required:!0}},methods:{onInput:function(e){this.$emit("input",e)}}},U=B,H=(r("027b"),Object(h["a"])(U,D,A,!1,null,null,null)),T=H.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"swap-sides"},[r("FontAwesomeIcon",{staticClass:"fa-2x",attrs:{icon:"sync",title:"Swap sides"},on:{click:e.onClick}})],1)},z=[],K=r("ad3d"),L={name:"SwapSidesButton",components:{FontAwesomeIcon:K["a"]},methods:{onClick:function(){this.$emit("click")}}},q=L,R=Object(h["a"])(q,F,z,!1,null,null,null),V=R.exports;function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X={components:{SelectUnitModal:v,SelectSkill:w,InputUnitEffect:j,InputHeroStat:T,SelectHero:function(){return Promise.all([r.e("chunk-43aae3e0"),r.e("chunk-477f4758")]).then(r.bind(null,"0eab"))},Portrait:function(){return r.e("chunk-2d224b1f").then(r.bind(null,"e0db"))},SelectTerrain:function(){return Promise.all([r.e("chunk-43aae3e0"),r.e("chunk-5b569c45")]).then(r.bind(null,"0e1f"))},InputNumber:$,SwapSidesButton:V},data:function(){return{showAttackerModal:!1,showDefenderModal:!1}},watch:{calculationStarted:function(){this.calculationStarted&&(this.calculate(this.attacker,this.defender),this.calculate(this.defender,this.attacker))}},computed:G({},Object(s["c"])({activeCalculator:"calculator/activeCalculator",attacker:"calculator/attacker",defender:"calculator/defender",options:"calculator/options",calculationStarted:"calculator/calculationStarted",data:"data/data"})),methods:G({},Object(s["b"])({addCreature:"calculator/addCreature",setHeroAttack:"calculator/setHeroAttack",setCreaturesCount:"calculator/setCreaturesCount",setActiveCreature:"calculator/setActiveCreature",setAttackerHero:"calculator/setAttackerHero",setHeroStat:"calculator/setHeroStat",setTotalDamages:"calculator/setTotalDamages",stopCalculation:"calculator/stopCalculation"}),{calculate:function(e,t){if(this.attacker.creature.count>0&&this.defender.creature.count>0){var r=G({},e,{creature:Object.assign({},this.attacker.creature),hero:G({},this.attacker.hero,{name:Object.assign({},this.attacker.creature.name)})}),a=G({},t,{creature:Object.assign({},this.attacker.creature),hero:Object.assign({},this.attacker.hero)});console.log("hehehehe",r,a),r=this.calculationWaterfall(r,a),a=this.calculationWaterfall(a,r),this.setTotalDamages({side:"attacker",damages:r}),this.setTotalDamages({side:"defender",damages:a})}this.stopCalculation()},calculationWaterfall:function(e,t){return e},blessModificator:function(e){return e.creature.effects.includes("Bless")&&("Bless"===e.hero.specialtySpell&&(e.creature.damageBonus+=.03*e.hero.stats.level/e.creature.level),e.hero.skills.water<=1?e.creature.minDamage=e.creature.maxDamage:hero.skills.water>=2&&(e.creature.minDamage=e.creature.maxDamage+1,e.creature.maxDamage++)),e},curseModificator:function(e){return e.creature.effects.includes("Curse")&&(e.hero.skills.fire<=1?e.creature.maxDamage=e.creature.minDamage:e.hero.skills.fire>=2&&(e.creature.minDamage=.8*e.creature.minDamage-1,e.creature.maxDamage=e.creature.minDamage)),e},statsModificators:function(e,t,r){if(console.log("test",e.creature,e.creature),e.creature.attack+=parseInt(e.hero.attack),e.creature.defense+=parseInt(e.hero.defense),e.creature.nativeTerrain===r.id&&(e.creature.attack++,e.creature.defense++),e.hero.hasOwnProperty("specialtyUnit")&&e.hero.specialtyUnit.includes(e.creature.id)&&(e.creature.attack*=1+e.hero.stats.level/e.creature.level*.05,e.creature.defense*=1+e.hero.stats.level/e.creature.level*.05,e.creature.attack=Math.ceil(e.creature.attack),e.creature.defense=Math.ceil(e.creature.defense)),e.creature.effects.length>0){if(e.creature.effects.includes("Bloodlust")&&(e.hero.skills.fire<=1?e.creature.attack+=3:e.hero.skills.fire>=2&&(e.creature.attack+=6)),e.creature.effects.includes("Frenzy")&&(e.hero.skills.fire<=1?e.creature.attack+=e.creature.defense:2===e.hero.skills.fire?e.creature.attack+=1.5*e.creature.defense:3===e.hero.skills.fire&&(e.creature.defense=0),e.creature.attack+=2*e.creature.defense),e.creature.effects.includes("Slayer")){var a=[26,27,54,55,68,69,96,97,110,111,137,138,139,140];2===e.hero.skills.fire?a.push(12,13,82,83):3===e.hero.skills.fire&&a.push(40,41,124,125,154,155),a.includes(t.creature.id)&&(e.creature.attack+=8)}if(e.creature.effects.includes("Prayer")&&(e.hero.skills.water<=1?(e.creature.attack+=2,e.creature.defense+=2):e.hero.skills.water>=2&&(e.creature.attack+=2,e.creature.defense+=4)),e.creature.effects.includes("Precision")&&e.creature.ranged&&(e.hero.skills.air<=1?e.creature.attack+=3:e.hero.skills.air>=2&&(e.creature.attack+=6)),e.creature.effects.includes("Stone Skin")&&(e.hero.skills.earth<=1?e.creature.defense+=3:e.hero.skills.earth>=2&&(e.creature.defense+=6)),e.creature.effects.includes("Weakness")&&(t.hero.skills.water<=1?e.creature.attack-=3:t.hero.skills.water>=2&&(e.creature.attack-=6)),e.creature.effects.includes("Disrupting Ray")&&(t.hero.skills.air<=1?e.creature.defense-=3:2===t.hero.skills.air?e.creature.defense-=4:3===t.hero.skills.air&&(e.creature.defense-=5)),e.hero.hasOwnProperty("specialtySpell"))switch(e.hero.specialtySpell){case"Bloodlust":e.creature.level<=2?e.creature.attack+=3:e.creature.level<=4?e.creature.attack+=2:e.creature.level<=6&&(e.creature.attack+=1);break;case"Prayer":e.creature.level<=2?(e.creature.attack+=3,e.creature.defense+=3):e.creature.level<=4?(e.creature.attack+=2,e.creature.defense+=2):e.creature.level<=6&&(e.creature.attack+=1,e.creature.defense+=1);break;case"Precision":e.creature.level<=2?e.creature.attack+=3:e.creature.level<=4?e.creature.attack+=2:e.creature.level<=6&&(e.creature.attack+=1);break;case"Stone Skin":e.creature.level<=2?e.creature.defense+=3:e.creature.level<=4?e.creature.defense+=2:e.creature.level<=6&&(e.creature.defense+=1);break;case"Weakness":e.creature.level<=2?e.creature.attack-=3:e.creature.level<=4?e.creature.attack-=2:e.creature.level<=6&&(e.creature.attack-=1);break;case"Disrupting Ray":e.creature.defense-=2;default:break}}return e},totalDamagesModificators:function(e,t){var r,a,n,c=0;if(console.log(e),e.hero.hasOwnProperty("level")&&(r=1+.05*e.hero.stats.level),e.hero.skills.offense>0&&!e.creature.ranged){var s=.1*e.hero.skills.offense;e.hero.hasOwnProperty("specialtySkill")&&"offense"===e.hero.specialtySkill&&(s*=r,s>1.92&&(s=1.92)),a+=s}if(e.hero.skills.armorer>0){var i=.05*e.hero.skills.armorer;e.hero.hasOwnProperty("specialtySkill")&&"armorer"===e.hero.specialtySkill&&(i*=r,i>.7&&(i=.7)),n+=i}if(e.hero.skills.archery>0&&e.creature.ranged){var l=0;1===e.hero.skills.archery?l=.1:2===e.hero.skills.archery?l=.25:3===e.hero.skills.archery&&(l=.5),e.hero.hasOwnProperty("specialtySkill")&&"archery"===e.hero.specialtySkill&&(l*=r,l>3.2&&(l=3.2)),a+=l}return e.hero.skills.artillery>0&&(158===e.creature.id||159===e.creature.id)&&3===e.hero.skills.artillery&&(e.minDamage*=2,e.maxDamage*=2),e.creature.effects.includes("Shield")&&(e.hero.skills.earth<=1?c+=.15:e.hero.skills.earth>=2&&(c+=.3)),e.creature.effects.includes("Air Shield")&&t.creature.ranged&&(e.hero.skills.air<2?c+=.25:e.hero.skills.air>1&&(c+=.5)),G({},e,{damageBonus:a,defenseBonus:n,defenseMagicBonus:c})},hatesModificator:function(e,t){var r=0,a=t.filter((function(t){return t.id===e.creature.id}));return a.length>0&&(r=.5,e.creature.hasOwnProperty("damageBonus")&&(creature.damageBonus+=r)),e},ifArtilleryCreature:function(e){return 158===e.creature.id?(e.creature.minDamage+=2*(e.creature.attack-e.hero.stats.attack),e.creature.maxDamage+=3*(e.creature.attack-e.hero.stats.attack)):159===e.creature.id&&(e.creature.minDamage+=4*(e.creature.attack-e.hero.stats.attack),e.creature.maxDamage+=7*(e.creature.attack-e.hero.stats.attack)),e},unitsFeaturesModificator:function(e){switch(e.creature.id){case 110:e.creature.defense*=.6;break;case 111:e.creature.defense*=.2;break;case 152:e.creature.attack*=.7;break;case 153:e.creature.attack*=.4;break}return e},mainFormula:function(e,t){var r,a,n=0;if(console.log("a",e,t),e.creature.attack>t.creature.defense){var c=Math.abs(.05*(e.creature.attack-t.creature.defense));c>3&&(c=3),r=1+c+e.creature.damageBonus,a=1-t.creature.defenseBonus,n=1-t.creature.defenseMagicBonus}else if(e.creature.attack===t.creature.defense)r=1+e.creature.damageBonus,a=1-t.creature.defenseBonus,n=1-t.creature.defenseMagicBonus;else if(e.attack<t.defense){var s=Math.abs(.025*(t.defense-e.attack));s>.7&&(s=.7),r=1-s+e.creature.damageBonus,a=1-t.creature.defenseBonus,n=1-t.creature.defenseMagicBonus}return e.creature.minDamage=Math.abs(e.creature.minDamage*(r*a*n)),e.creature.maxDamage=Math.abs(e.creature.maxDamage*(r*a*n)),e.minDamage=Math.floor(e.minDamage*e.count),e.maxDamage=Math.floor(e.maxDamage*e.count),e.averageDamage=Math.floor((e.minDamage+e.maxDamage)/2),e.minKills=Math.floor(e.minDamage/t.creature.health),e.maxKills=Math.floor(e.maxDamage/t.creature.health),e.averageKills=Math.floor(e.averageDamage/t.creature.health),e}})},J=X,Y=(r("de58"),Object(h["a"])(J,i,l,!1,null,null,null)),Z=Y.exports;function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te={components:{DamageCalculator:Z,PageFooter:function(){return r.e("chunk-31bdd0fe").then(r.bind(null,"c8cc"))}},mounted:function(){this.getHeroes(),this.getCreatures(),this.getTerrains()},computed:ee({},Object(s["c"])({calculators:"calculator/calculators",activeCalculatorIndex:"calculator/activeCalculatorIndex",attacker:"calculator/attacker",defender:"calculator/defender",options:"calculator/options"})),methods:ee({},Object(s["b"])({getHeroes:"data/getHeroes",getCreatures:"data/getCreatures",getTerrains:"data/getTerrains",addCreature:"calculator/addCreature",setHeroAttack:"calculator/setHeroAttack",addCalculator:"calculator/addCalculator",setActiveCalculator:"calculator/setActiveCalculator",deleteCalculator:"calculator/deleteCalculator"}),{calculatorTitle:function(e){return Object.entries(e.attacker.creature).length>0&&Object.entries(e.defender.creature).length>0?"".concat(e.attacker.creature.name_en," - ").concat(e.defender.creature.name_en):Object.entries(e.attacker.creature).length>0?e.attacker.creature.name_en:Object.entries(e.defender.creature).length>0?e.attacker.creature.name_en:this.$t("Damage calculator")}})},re=te,ae=(r("ce85"),Object(h["a"])(re,a,n,!1,null,null,null));t["default"]=ae.exports},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),c=r("94ca"),s=r("6eeb"),i=r("5135"),l=r("c6b6"),o=r("7156"),u=r("c04e"),f=r("d039"),d=r("7c73"),h=r("241c").f,p=r("06cf").f,v=r("9bf2").f,m=r("58a8").trim,k="Number",b=n[k],g=b.prototype,y=l(d(g))==k,w=function(e){var t,r,a,n,c,s,i,l,o=u(e,!1);if("string"==typeof o&&o.length>2)if(o=m(o),t=o.charCodeAt(0),43===t||45===t){if(r=o.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(o.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+o}for(c=o.slice(2),s=c.length,i=0;i<s;i++)if(l=c.charCodeAt(i),l<48||l>n)return NaN;return parseInt(c,a)}return+o};if(c(k,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,x=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof x&&(y?f((function(){g.valueOf.call(r)})):l(r)!=k)?o(new b(w(t)),r,x):w(t)},O=a?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;O.length>S;S++)i(b,C=O[S])&&!i(x,C)&&v(x,C,p(b,C));x.prototype=g,g.constructor=x,s(n,k,x)}},aa50:function(e,t,r){},ab13:function(e,t,r){var a=r("b622"),n=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(a){}}return!1}},ac65:function(e,t,r){"use strict";var a=r("aa50"),n=r.n(a);n.a},ad3d:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return C}));var a=r("ecee"),n="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function c(e,t){return t={exports:{}},e(t,t.exports),t.exports}var s=c((function(e){(function(t){var r=function(e,t,a){if(!o(t)||f(t)||d(t)||h(t)||l(t))return t;var n,c=0,s=0;if(u(t))for(n=[],s=t.length;c<s;c++)n.push(r(e,t[c],a));else for(var i in n={},t)Object.prototype.hasOwnProperty.call(t,i)&&(n[e(i,a)]=r(e,t[i],a));return n},a=function(e,t){t=t||{};var r=t.separator||"_",a=t.split||/(?=[A-Z])/;return e.split(a).join(r)},n=function(e){return p(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""})),e.substr(0,1).toLowerCase()+e.substr(1))},c=function(e){var t=n(e);return t.substr(0,1).toUpperCase()+t.substr(1)},s=function(e,t){return a(e,t).toLowerCase()},i=Object.prototype.toString,l=function(e){return"function"===typeof e},o=function(e){return e===Object(e)},u=function(e){return"[object Array]"==i.call(e)},f=function(e){return"[object Date]"==i.call(e)},d=function(e){return"[object RegExp]"==i.call(e)},h=function(e){return"[object Boolean]"==i.call(e)},p=function(e){return e-=0,e===e},v=function(e,t){var r=t&&"process"in t?t.process:t;return"function"!==typeof r?e:function(t,a){return r(t,e,a)}},m={camelize:n,decamelize:s,pascalize:c,depascalize:s,camelizeKeys:function(e,t){return r(v(n,t),e)},decamelizeKeys:function(e,t){return r(v(s,t),e,t)},pascalizeKeys:function(e,t){return r(v(c,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m})(n)})),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r},f=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)};function d(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var r=t.indexOf(":"),a=s.camelize(t.slice(0,r)),n=t.slice(r+1).trim();return e[a]=n,e}),{})}function h(e){return e.split(/\s+/).reduce((function(e,t){return e[t]=!0,e}),{})}function p(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return Array.isArray(t)?e=e.concat(t):e.push(t),e}),[])}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=(t.children||[]).map(v.bind(null,e)),c=Object.keys(t.attributes||{}).reduce((function(e,r){var a=t.attributes[r];switch(r){case"class":e["class"]=h(a);break;case"style":e["style"]=d(a);break;default:e.attrs[r]=a}return e}),{class:{},style:{},attrs:{}}),s=a.class,i=void 0===s?{}:s,l=a.style,f=void 0===l?{}:l,m=a.attrs,k=void 0===m?{}:m,b=u(a,["class","style","attrs"]);return"string"===typeof t?t:e(t.tag,o({class:p(c.class,i),style:o({},c.style,f),attrs:o({},c.attrs,k)},b,{props:r}),n)}var m=!1;try{m=!0}catch(x){}function k(){var e;!m&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}function b(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?l({},e,t):{}}function g(e){var t,r=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},l(t,"fa-"+e.size,null!==e.size),l(t,"fa-rotate-"+e.rotation,null!==e.rotation),l(t,"fa-pull-"+e.pull,null!==e.pull),l(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(r).map((function(e){return r[e]?e:null})).filter((function(e){return e}))}function y(e,t){var r=0===(e||"").length?[]:[e];return r.concat(t).join(" ")}function w(e){return null===e?null:"object"===("undefined"===typeof e?"undefined":i(e))&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}var C={name:"FontAwesomeIcon",functional:!0,props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:String,default:null,validator:function(e){return["horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null}},render:function(e,t){var r=t.props,n=r.icon,c=r.mask,s=r.symbol,i=r.title,l=w(n),u=b("classes",g(r)),f=b("transform","string"===typeof r.transform?a["d"].transform(r.transform):r.transform),d=b("mask",w(c)),h=Object(a["b"])(l,o({},u,f,d,{symbol:s,title:i}));if(!h)return k("Could not find one or more icon(s)",l,d);var p=h.abstract,m=v.bind(null,e);return m(p[0],{},t.data)}};Boolean}).call(this,r("c8ba"))},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,c=Function.prototype,s=c.toString,i=/^\s*function ([^ (]*)/,l="name";!a||l in c||n(c,l,{configurable:!0,get:function(){try{return s.call(this).match(i)[1]}catch(e){return""}}})},caad:function(e,t,r){"use strict";var a=r("23e7"),n=r("4d64").includes,c=r("44d2");a({target:"Array",proto:!0},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},ce85:function(e,t,r){"use strict";var a=r("a1bb"),n=r.n(a);n.a},de58:function(e,t,r){"use strict";var a=r("4561"),n=r.n(a);n.a},e25e:function(e,t,r){var a=r("23e7"),n=r("e583");a({global:!0,forced:parseInt!=n},{parseInt:n})},e583:function(e,t,r){var a=r("da84"),n=r("58a8").trim,c=r("5899"),s=a.parseInt,i=/^[+-]?0[Xx]/,l=8!==s(c+"08")||22!==s(c+"0x16");e.exports=l?function(e,t){var r=n(String(e));return s(r,t>>>0||(i.test(r)?16:10))}:s}}]);
//# sourceMappingURL=DamageCalculator-legacy.c34a3571.js.map